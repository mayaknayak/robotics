<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from mobot.xacro                    | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="mobot" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <!-- define the base-link origin to lie at floor level, between the drive wheels-->
  <!--main body is a simple box; origin is a center of box-->
  <!--clearance from bottom of box to ground-->
  <!-- derived values-->
  <!-- placement of main body relative to base link frame -->
  <!-- define the drive-wheel dimensions-->
  <!-- "track" is the distance between the drive wheels -->
  <!-- battery box dimensions -->
  <!-- placement of battery box relative to base frame -->
  <!--here is a default inertia matrix with small, but legal values; use this when don't need accuracy for I -->
  <!--model will assign inertia matrix dominated by main body box -->
  <link name="castdrop_left">
    <visual>
      <geometry>
        <box size="0.0381 0.0381 0.125"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.0381 0.0381 0.125"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
    <inertial>
      <mass value="0.2"/>
      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="cast2base_left" type="fixed">
    <parent link="base_link"/>
    <child link="castdrop_left"/>
    <origin xyz="-0.52705 0.20955 0.2875"/>
  </joint>
  <link name="brackettop_left">
    <visual>
      <geometry>
        <box size="0.1175 0.0508 .005"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.1175 0.0508 .005"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
    <inertial>
      <mass value="0.2"/>
      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="cast2bracket_left" type="continuous">
    <axis xyz="0 0 1"/>
    <parent link="castdrop_left"/>
    <child link="brackettop_left"/>
    <origin rpy="0 0 1.57079632679" xyz="0 0 -0.0625"/>
    <joint_properties damping="0.0" friction="0.0"/>
  </joint>
  <link name="bracketside1_left">
    <visual>
      <geometry>
        <box size="0.0508 0.16 .005"/>
      </geometry>
      <origin rpy="1.57079632679 -0.7854 1.57079632679" xyz="0 0 0"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.0508 0.16 .005"/>
      </geometry>
      <origin rpy="1.57079632679 -0.7854 1.57079632679" xyz="0 0 0"/>
    </collision>
    <inertial>
      <mass value="0.2"/>
      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="brack2top1_left" type="fixed">
    <parent link="brackettop_left"/>
    <child link="bracketside1_left"/>
    <origin rpy="0 0 0" xyz="0.05875 .04 -0.06"/>
  </joint>
  <link name="bracketside2_left">
    <visual>
      <geometry>
        <box size="0.0508 0.16 .005"/>
      </geometry>
      <origin rpy="1.57079632679 -0.7854 1.57079632679" xyz="0 0 0"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.0508 0.16 .005"/>
      </geometry>
      <origin rpy="1.57079632679 -0.7854 1.57079632679" xyz="0 0 0"/>
    </collision>
    <inertial>
      <mass value="0.2"/>
      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="brack2top2_left" type="fixed">
    <parent link="brackettop_left"/>
    <child link="bracketside2_left"/>
    <origin rpy="0 0 0" xyz="-0.05875 .04 -0.06"/>
  </joint>
  <link name="left_casterwheel">
    <visual>
      <geometry>
        <cylinder length="0.0826" radius="0.1143"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.0826" radius="0.1143"/>
      </geometry>
    </collision>
    <!-- accept default inertial properties for caster wheels-->
    <inertial>
      <mass value="0.5"/>
      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="left_caster_joint" type="continuous">
    <axis xyz="0 0 1"/>
    <parent link="bracketside1_left"/>
    <child link="left_casterwheel"/>
    <origin rpy="0 1.57079632679 0" xyz="-0.0613 .053 -.053"/>
    <limit effort="100" velocity="15"/>
    <joint_properties damping="0.0" friction="0.0"/>
  </joint>
  <link name="castdrop_right">
    <visual>
      <geometry>
        <box size="0.0381 0.0381 0.125"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.0381 0.0381 0.125"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
    <inertial>
      <mass value="0.2"/>
      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="cast2base_right" type="fixed">
    <parent link="base_link"/>
    <child link="castdrop_right"/>
    <origin xyz="-0.52705 -0.20955 0.2875"/>
  </joint>
  <link name="brackettop_right">
    <visual>
      <geometry>
        <box size="0.1175 0.0508 .005"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.1175 0.0508 .005"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
    <inertial>
      <mass value="0.2"/>
      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="cast2bracket_right" type="continuous">
    <axis xyz="0 0 1"/>
    <parent link="castdrop_right"/>
    <child link="brackettop_right"/>
    <origin rpy="0 0 1.57079632679" xyz="0 0 -0.0625"/>
    <joint_properties damping="0.0" friction="0.0"/>
  </joint>
  <link name="bracketside1_right">
    <visual>
      <geometry>
        <box size="0.0508 0.16 .005"/>
      </geometry>
      <origin rpy="1.57079632679 -0.7854 1.57079632679" xyz="0 0 0"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.0508 0.16 .005"/>
      </geometry>
      <origin rpy="1.57079632679 -0.7854 1.57079632679" xyz="0 0 0"/>
    </collision>
    <inertial>
      <mass value="0.2"/>
      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="brack2top1_right" type="fixed">
    <parent link="brackettop_right"/>
    <child link="bracketside1_right"/>
    <origin rpy="0 0 0" xyz="0.05875 .04 -0.06"/>
  </joint>
  <link name="bracketside2_right">
    <visual>
      <geometry>
        <box size="0.0508 0.16 .005"/>
      </geometry>
      <origin rpy="1.57079632679 -0.7854 1.57079632679" xyz="0 0 0"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.0508 0.16 .005"/>
      </geometry>
      <origin rpy="1.57079632679 -0.7854 1.57079632679" xyz="0 0 0"/>
    </collision>
    <inertial>
      <mass value="0.2"/>
      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="brack2top2_right" type="fixed">
    <parent link="brackettop_right"/>
    <child link="bracketside2_right"/>
    <origin rpy="0 0 0" xyz="-0.05875 .04 -0.06"/>
  </joint>
  <link name="right_casterwheel">
    <visual>
      <geometry>
        <cylinder length="0.0826" radius="0.1143"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.0826" radius="0.1143"/>
      </geometry>
    </collision>
    <!-- accept default inertial properties for caster wheels-->
    <inertial>
      <mass value="0.5"/>
      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="right_caster_joint" type="continuous">
    <axis xyz="0 0 1"/>
    <parent link="bracketside1_right"/>
    <child link="right_casterwheel"/>
    <origin rpy="0 1.57079632679 0" xyz="-0.0613 .053 -.053"/>
    <limit effort="100" velocity="15"/>
    <joint_properties damping="0.0" friction="0.0"/>
  </joint>
  <link name="base_link">
    <visual>
      <geometry>
        <box size="0.5461 0.4572 0.2"/>
      </geometry>
      <origin rpy="0 0 0" xyz="-0.27305 0 0.45"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.5461 0.4572 0.2"/>
      </geometry>
      <origin rpy="0 0 0" xyz="-0.27305 0 0.45"/>
    </collision>
    <inertial>
      <!--assign almost all the mass to the main body box; set m= 100kg; treat I as approx m*r^2 -->
      <mass value="100"/>
      <inertia ixx="10" ixy="0" ixz="0" iyy="10" iyz="0" izz="10"/>
    </inertial>
  </link>
  <link name="left_wheel">
    <visual>
      <geometry>
        <cylinder length="0.06985" radius="0.1651"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.06985" radius="0.1651"/>
      </geometry>
    </collision>
    <inertial>
      <!--assign inertial properties to drive wheels -->
      <mass value="1"/>
      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>
    </inertial>
  </link>
  <joint name="left_wheel_joint" type="continuous">
    <axis xyz="0 0 1"/>
    <parent link="base_link"/>
    <child link="left_wheel"/>
    <origin rpy="0 1.57079632679 1.57079632679" xyz="0 0.282575 0.1651"/>
    <limit effort="100" velocity="15"/>
    <joint_properties damping="0.0" friction="0.0"/>
  </joint>
  <link name="right_wheel">
    <visual>
      <geometry>
        <cylinder length="0.06985" radius="0.1651"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.06985" radius="0.1651"/>
      </geometry>
    </collision>
    <inertial>
      <!--assign inertial properties to drive wheels -->
      <mass value="1"/>
      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>
    </inertial>
  </link>
  <joint name="right_wheel_joint" type="continuous">
    <axis xyz="0 0 1"/>
    <parent link="base_link"/>
    <child link="right_wheel"/>
    <origin rpy="0 1.57079632679 1.57079632679" xyz="0 -0.282575 0.1651"/>
    <limit effort="100" velocity="15"/>
    <joint_properties damping="0.0" friction="0.0"/>
  </joint>
  <link name="batterybox">
    <visual>
      <geometry>
        <box size="0.381 0.3556 0.254"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.381 0.3556 0.254"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
    <inertial>
      <mass value="1"/>
      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
    </inertial>
  </link>
  <joint name="batterytobase" type="fixed">
    <parent link="base_link"/>
    <child link="batterybox"/>
    <origin rpy="0 0 0" xyz="-0.05 0 0.22"/>
  </joint>
  <gazebo>
    <plugin filename="libgazebo_ros_diff_drive.so" name="differential_drive_controller">
      <alwaysOn>true</alwaysOn>
      <updateRate>100</updateRate>
      <leftJoint>right_wheel_joint</leftJoint>
      <rightJoint>left_wheel_joint</rightJoint>
      <wheelSeparation>0.56515</wheelSeparation>
      <wheelDiameter>0.3302</wheelDiameter>
      <torque>200</torque>
      <commandTopic>cmd_vel</commandTopic>
      <odometryTopic>odom</odometryTopic>
      <odometryFrame>odom</odometryFrame>
      <robotBaseFrame>base_link</robotBaseFrame>
      <publishWheelTF>true</publishWheelTF>
      <publishWheelJointState>true</publishWheelJointState>
    </plugin>
  </gazebo>
</robot>

